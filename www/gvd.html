<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Volcano Database | Eruption Predictions</title>
    <style>
        :root {
            --primary-blue: #1a237e;
            --secondary-blue: #0d47a1;
            --accent-blue: #2196f3;
            --light-blue: #bbdefb;
            --dark-blue: #0b0d21;
            --white: #ffffff;
            --gray: #f5f5f5;
            --dark-gray: #333333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--gray);
            color: var(--dark-gray);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            color: var(--white);
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        nav {
            background-color: var(--secondary-blue);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            color: var(--white);
            text-decoration: none;
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav ul li a:hover {
            background-color: var(--accent-blue);
        }

        section {
            padding: 2rem 0;
        }

        h2 {
            color: var(--primary-blue);
            border-bottom: 2px solid var(--accent-blue);
            padding-bottom: 10px;
            margin-top: 0;
        }

        .volcano-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .volcano-card {
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden;
            border-top: 4px solid var(--accent-blue);
        }

        .volcano-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .volcano-image {
            height: 200px;
            width: 100%;
            object-fit: cover;
        }

        .volcano-info {
            padding: 20px;
        }

        .volcano-info h3 {
            color: var(--primary-blue);
            margin-top: 0;
        }

        .volcano-meta {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }

        .location {
            display: flex;
            align-items: center;
            color: var(--secondary-blue);
        }

        .location svg {
            margin-right: 8px;
            fill: var(--secondary-blue);
        }

        .status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status.active {
            background-color: #ffebee;
            color: #c62828;
        }

        .status.dormant {
            background-color: #fff8e1;
            color: #ff8f00;
        }

        .status.extinct {
            background-color: #e8f5e9;
            color: #2e7d32;
        }

        .calculator-container {
            background-color: var(--white);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .calculator-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .calculator-form {
            flex: 1;
            min-width: 300px;
        }

        .calculator-visual {
            flex: 1;
            min-width: 300px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--secondary-blue);
        }

        .form-group input, 
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        button {
            background-color: var(--accent-blue);
            color: var(--white);
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: var(--secondary-blue);
        }

        .result-container {
            margin-top: 30px;
            display: none;
        }

        .result-card {
            background-color: var(--light-blue);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .chart-container {
            margin-top: 20px;
        }

        .map-container {
            height: 500px;
            margin-top: 20px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            background-color: var(--white);
            padding: 20px;
        }

        .statistics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background-color: var(--white);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-card h3 {
            margin-top: 0;
            color: var(--primary-blue);
        }

        .stat-card .number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary-blue);
            margin: 10px 0;
        }

        .volcano-details {
            display: none;
            background-color: var(--white);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }

        .detail-header {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .detail-image {
            flex: 1;
            min-width: 300px;
        }

        .detail-image img {
            width: 100%;
            border-radius: 8px;
            height: 300px;
            object-fit: cover;
        }

        .detail-info {
            flex: 2;
            min-width: 300px;
        }

        .detail-info h2 {
            margin-top: 0;
        }

        .detail-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .tab-button {
            padding: 10px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: var(--dark-gray);
            border-bottom: 3px solid transparent;
        }

        .tab-button.active {
            border-bottom: 3px solid var(--accent-blue);
            color: var(--primary-blue);
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .eruption-timeline {
            margin-top: 20px;
        }

        .timeline-item {
            display: flex;
            margin-bottom: 15px;
        }

        .timeline-year {
            width: 80px;
            font-weight: bold;
            color: var(--secondary-blue);
        }

        .timeline-details {
            flex: 1;
            padding-left: 15px;
            border-left: 2px solid var(--accent-blue);
        }

        .close-details {
            float: right;
            background-color: #f44336;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .volcano-grid {
                grid-template-columns: 1fr;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav ul li {
                margin: 5px 0;
            }

            .calculator-row {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Global Volcano Database</h1>
            <p>Comprehensive catalog of Earth's volcanoes with eruption prediction tools</p>
        </div>
    </header>
	
	    <nav>
        <div class="container">
<a href="index.html" style="background:#CCC; padding:10px; padding-left:20px; padding-right:20px;     background: #101a64; text-decoration: none; color: #FFF;">MENU</a>
        </div>
    </nav>
    
    <div class="container">
        <section id="catalog">
            <h2>Volcano Catalog</h2>
            <div class="volcano-grid" id="volcanoContainer">
                <!-- Volcano cards will be inserted here by JavaScript -->
            </div>
            
            <div class="volcano-details" id="volcanoDetails">
                <button class="close-details" onclick="closeDetails()">× Close</button>
                <div class="detail-header">
                    <div class="detail-image">
                        <img id="detailImage" src="" alt="Volcano">
                    </div>
                    <div class="detail-info">
                        <h2 id="detailName">Volcano Name</h2>
                        <div class="location">
                            <svg width="12" height="12" viewBox="0 0 24 24">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                            </svg>
                            <span id="detailLocation">Location</span>
                        </div>
                        <div class="volcano-meta">
                            <span id="detailElevation">Elevation: 0m</span>
                            <span id="detailStatus" class="status">Status</span>
                        </div>
                        <p id="detailDescription">Description</p>
                    </div>
                </div>
                
                <div class="detail-tabs">
                    <button class="tab-button active" onclick="openTab(event, 'eruptions')">Eruptions</button>
                    <button class="tab-button" onclick="openTab(event, 'geology')">Geology</button>
                    <button class="tab-button" onclick="openTab(event, 'hazards')">Hazards</button>
                </div>
                
                <div id="eruptions" class="tab-content active">
                    <h3>Eruption History</h3>
                    <div class="chart-container">
                        <canvas id="eruptionChart"></canvas>
                    </div>
                    <div class="eruption-timeline" id="eruptionTimeline">
                        <!-- Timeline items will be inserted here by JavaScript -->
                    </div>
                </div>
                
                <div id="geology" class="tab-content">
                    <h3>Geological Information</h3>
                    <p id="geologyContent">Loading geological data...</p>
                    <div class="chart-container">
                        <canvas id="geologyChart"></canvas>
                    </div>
                </div>
                
                <div id="hazards" class="tab-content">
                    <h3>Potential Hazards</h3>
                    <p id="hazardsContent">Loading hazard data...</p>
                    <div class="chart-container">
                        <canvas id="hazardsChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="calculator">
            <h2>Eruption Prediction Calculator</h2>
            <div class="calculator-container">
                <div class="calculator-row">
                    <div class="calculator-form">
                        <h3>Predict Future Eruptions</h3>
                        <p>Our algorithm analyzes historical eruption patterns, seismic activity, and geological data to estimate future eruption probabilities.</p>
                        
                        <div class="form-group">
                            <label for="calcVolcano">Select Volcano:</label>
                            <select id="calcVolcano">
                                <!-- Options will be inserted by JavaScript -->
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="targetYear">Target Year for Prediction:</label>
                            <input type="number" id="targetYear" min="2023" max="2100" value="2025">
                        </div>
                        
                        <div class="form-group">
                            <label for="currentActivity">Current Activity Level:</label>
                            <select id="currentActivity">
                                <option value="high">High (frequent earthquakes, gas emissions)</option>
                                <option value="medium" selected>Medium (periodic activity)</option>
                                <option value="low">Low (minimal activity)</option>
                            </select>
                        </div>
                        
                        <button onclick="calculateEruptionProbability()">Calculate Probability</button>
                    </div>
                    

                </div>
                
                <div class="result-container" id="predictionResult">
                    <div class="result-card">
                        <h4>Eruption Prediction Results</h4>
                        <p id="predictionText">Prediction text will appear here</p>
                        <p id="probabilityText">Probability: Calculating...</p>
                        <p id="recommendationText">Recommendations will appear here</p>
                    </div>
                    
                    <h4>Eruption Probability Over Time</h4>
                    <div class="chart-container">
                        <canvas id="probabilityChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="statistics">
            <h2>Global Volcano Statistics</h2>
            <div class="statistics-grid">
                <div class="stat-card">
                    <h3>Total Volcanoes</h3>
                    <div class="number">1,500+</div>
                    <p>on planet Earth</p>
                </div>
                
                <div class="stat-card">
                    <h3>Active Volcanoes</h3>
                    <div class="number">~500</div>
                    <p>erupted in last 10,000 years</p>
                </div>
                
                <div class="stat-card">
                    <h3>Currently Erupting</h3>
                    <div class="number">20-30</div>
                    <p>at any given time</p>
                </div>
                
                <div class="stat-card">
                    <h3>Supervolcanoes</h3>
                    <div class="number">~20</div>
                    <p>capable of global impact</p>
                </div>
                
                <div class="stat-card">
                    <h3>Eruptions per Year</h3>
                    <div class="number">50-70</div>
                    <p>average volcanic eruptions</p>
                </div>
                
                <div class="stat-card">
                    <h3>Most Active</h3>
                    <div class="number">Kilauea</div>
                    <p>Hawaii, USA</p>
                </div>
            </div>
            
            <h3>Eruption Frequency by Decade</h3>
            <div class="chart-container">
                <canvas id="globalChart"></canvas>
            </div>
        </section>
    
        
    </div>
   

    <script src="chart.min.js"></script>
    <script>
        // Volcano data
        const volcanoes = [
            {
                id: 'etna',
                name: 'Mount Etna',
                location: 'Sicily, Italy',
                elevation: '3,329 m',
                status: 'active',
                description: 'One of the world\'s most active volcanoes, Etna has been erupting for thousands of years with frequent explosive and effusive eruptions.',
                image: '',
                eruptions: [
                    { year: 2023, vei: 2, description: 'Strombolian activity and lava flows' },
                    { year: 2021, vei: 2, description: 'Frequent explosive eruptions' },
                    { year: 2017, vei: 3, description: 'Major eruption with ash plume' },
                    { year: 2013, vei: 2, description: 'Lava flows and explosions' },
                    { year: 2002, vei: 3, description: 'Large flank eruption' },
                    { year: 1992, vei: 2, description: 'Lava flows threatened villages' },
                    { year: 1983, vei: 3, description: 'Longest flank eruption of 20th century' },
                    { year: 1971, vei: 2, description: 'Lava flows destroyed infrastructure' },
                    { year: 1669, vei: 4, description: 'Destructive eruption destroyed Catania' }
                ],
                geology: {
                    type: 'Stratovolcano',
                    composition: 'Basaltic to trachybasaltic',
                    age: '500,000 years',
                    tectonic: 'Complex (African and Eurasian plate collision)'
                },
                hazards: ['Lava flows', 'Ash fall', 'Pyroclastic flows', 'Lahars', 'Volcanic gases']
            },
            {
                id: 'kilaua',
                name: 'Kīlauea',
                location: 'Hawaii, USA',
                elevation: '1,247 m',
                status: 'active',
                description: 'One of the most active volcanoes on Earth, Kīlauea has been erupting nearly continuously since 1983 with spectacular lava flows.',
                image: '',
                eruptions: [
                    { year: 2023, vei: 1, description: 'Summit eruption with lava lake' },
                    { year: 2021, vei: 1, description: 'Lava flows from summit crater' },
                    { year: 2018, vei: 3, description: 'Destructive lower East Rift Zone eruption' },
                    { year: 1983, vei: 1, description: 'Puʻu ʻŌʻō eruption began (continued 35 years)' },
                    { year: 1975, vei: 2, description: 'Short-lived summit eruption' },
                    { year: 1960, vei: 2, description: 'Kapoho eruption destroyed village' },
                    { year: 1955, vei: 2, description: 'Lower East Rift Zone eruption' },
                    { year: 1924, vei: 2, description: 'Explosive summit eruption' },
                    { year: 1790, vei: 4, description: 'Deadliest eruption in Hawaiian history' }
                ],
                geology: {
                    type: 'Shield volcano',
                    composition: 'Basaltic',
                    age: '300,000-600,000 years',
                    tectonic: 'Hotspot (Pacific plate)'
                },
                hazards: ['Lava flows', 'Volcanic gases', 'Lava fountains', 'Ground cracking']
            },
            {
                id: 'vesuvius',
                name: 'Mount Vesuvius',
                location: 'Naples, Italy',
                elevation: '1,281 m',
                status: 'dormant',
                description: 'Famous for its eruption in 79 AD that destroyed Pompeii and Herculaneum, Vesuvius remains a significant threat to nearby Naples.',
                image: '',
                eruptions: [
                    { year: 1944, vei: 3, description: 'Most recent eruption, destroyed villages' },
                    { year: 1906, vei: 3, description: 'Deadly eruption killed 100+ people' },
                    { year: 1872, vei: 3, description: 'Major explosive eruption' },
                    { year: 1631, vei: 4, description: 'Destructive eruption killed 3,000+' },
                    { year: 79, vei: 5, description: 'Famous eruption buried Pompeii' },
                    { year: -217, vei: 4, description: 'Large Plinian eruption' },
                    { year: -1800, vei: 6, description: 'Avellino eruption (Bronze Age)' }
                ],
                geology: {
                    type: 'Stratovolcano',
                    composition: 'Trachyandesitic to phonolitic',
                    age: '25,000 years',
                    tectonic: 'African plate subduction'
                },
                hazards: ['Pyroclastic flows', 'Ash fall', 'Lahars', 'Volcanic bombs', 'Earthquakes']
            },
            {
                id: 'fuji',
                name: 'Mount Fuji',
                location: 'Honshu, Japan',
                elevation: '3,776 m',
                status: 'dormant',
                description: 'Japan\'s highest and most famous volcano, Fuji last erupted in 1707 and remains a potential threat to nearby Tokyo.',
                image: '',
                eruptions: [
                    { year: 1707, vei: 5, description: 'Hōei eruption, largest in historical time' },
                    { year: 1700, vei: 1, description: 'Small flank eruption' },
                    { year: 864, vei: 4, description: 'Jōgan eruption, formed large lava flows' },
                    { year: 800, vei: 3, description: 'Explosive summit eruption' }
                ],
                geology: {
                    type: 'Stratovolcano',
                    composition: 'Basaltic',
                    age: '100,000 years',
                    tectonic: 'Pacific plate subduction'
                },
                hazards: ['Ash fall', 'Lava flows', 'Pyroclastic flows', 'Lahars', 'Volcanic bombs']
            },
            {
                id: 'elbrus',
                name: 'Mount Elbrus',
                location: 'Caucasus, Russia',
                elevation: '5,642 m',
                status: 'dormant',
                description: 'Europe\'s highest volcano, Elbrus has not erupted in historical time but shows signs of potential future activity.',
                image: '',
                eruptions: [
                    { year: 50, vei: 3, description: 'Last known eruption (approx.)' },
                    { year: -2250, vei: 4, description: 'Major explosive eruption' }
                ],
                geology: {
                    type: 'Stratovolcano',
                    composition: 'Andesitic to dacitic',
                    age: '2.5 million years',
                    tectonic: 'Arabian-Eurasian collision'
                },
                hazards: ['Lahars', 'Ash fall', 'Pyroclastic flows', 'Glacial outburst floods']
            },
            {
                id: 'kilimanjaro',
                name: 'Mount Kilimanjaro',
                location: 'Tanzania',
                elevation: '5,895 m',
                status: 'dormant',
                description: 'Africa\'s highest mountain, Kilimanjaro is a dormant volcano with significant geothermal activity.',
                image: '',
                eruptions: [
                    { year: -150000, vei: 3, description: 'Last major activity' }
                ],
                geology: {
                    type: 'Stratovolcano',
                    composition: 'Trachybasaltic to trachytic',
                    age: '1 million years',
                    tectonic: 'East African Rift'
                },
                hazards: ['Landslides', 'Gas emissions', 'Possible future eruptions']
            },
            {
                id: 'yellowstone',
                name: 'Yellowstone Caldera',
                location: 'Wyoming, USA',
                elevation: '2,805 m',
                status: 'active',
                description: 'One of the world\'s largest active volcanic systems, Yellowstone has produced three catastrophic eruptions in the past 2.1 million years.',
                image: '',
                eruptions: [
                    { year: -70000, vei: 8, description: 'Lava Creek eruption (caldera-forming)' },
                    { year: -1240000, vei: 8, description: 'Mesa Falls eruption (caldera-forming)' },
                    { year: -2100000, vei: 8, description: 'Huckleberry Ridge eruption (caldera-forming)' }
                ],
                geology: {
                    type: 'Supervolcano',
                    composition: 'Rhyolitic',
                    age: '2.1 million years',
                    tectonic: 'Hotspot (North American plate)'
                },
                hazards: ['Catastrophic eruption', 'Earthquakes', 'Hydrothermal explosions', 'Gas emissions']
            },
            {
                id: 'popocatepetl',
                name: 'Popocatépetl',
                location: 'Mexico',
                elevation: '5,426 m',
                status: 'active',
                description: 'Mexico\'s most active volcano, Popocatépetl has been erupting frequently since 1994 after decades of dormancy.',
                image: '',
                eruptions: [
                    { year: 2023, vei: 2, description: 'Ongoing ash emissions' },
                    { year: 2019, vei: 2, description: 'Explosions and ash plumes' },
                    { year: 2013, vei: 3, description: 'Large explosion with pyroclastic flows' },
                    { year: 2000, vei: 3, description: 'Major eruption prompted evacuations' },
                    { year: 1994, vei: 2, description: 'First eruption after 70 years' },
                    { year: 1920, vei: 2, description: 'Moderate explosive eruption' },
                    { year: 1519, vei: 4, description: 'Large eruption witnessed by Cortés' }
                ],
                geology: {
                    type: 'Stratovolcano',
                    composition: 'Andesitic to dacitic',
                    age: '730,000 years',
                    tectonic: 'Cocos plate subduction'
                },
                hazards: ['Ash fall', 'Pyroclastic flows', 'Lahars', 'Volcanic bombs']
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Load volcano cards
            const volcanoContainer = document.getElementById('volcanoContainer');
            volcanoes.forEach(volcano => {
                const statusClass = volcano.status === 'active' ? 'active' : 
                                  volcano.status === 'dormant' ? 'dormant' : 'extinct';
                
                volcanoContainer.innerHTML += `
                    <div class="volcano-card" onclick="showVolcanoDetails('${volcano.id}')">
                        <div class="volcano-info">
                            <h3>${volcano.name}</h3>
                            <div class="location">
                                <svg width="12" height="12" viewBox="0 0 24 24">
                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                </svg>
                                <span>${volcano.location}</span>
                            </div>
                            <div class="volcano-meta">
                                <span>Elevation: ${volcano.elevation}</span>
                                <span class="status ${statusClass}">${volcano.status}</span>
                            </div>
                        </div>
                    </div>
                `;
            });

            // Load volcano selector for calculator
            const calcVolcano = document.getElementById('calcVolcano');
            volcanoes.forEach(volcano => {
                calcVolcano.innerHTML += `<option value="${volcano.id}">${volcano.name} (${volcano.location})</option>`;
            });

            // Initialize global chart
            initGlobalChart();
        });

        // Show volcano details
        function showVolcanoDetails(volcanoId) {
            const volcano = volcanoes.find(v => v.id === volcanoId);
            if (!volcano) return;

            // Set basic info
            document.getElementById('detailName').textContent = volcano.name;
            document.getElementById('detailLocation').textContent = volcano.location;
            document.getElementById('detailElevation').textContent = `Elevation: ${volcano.elevation}`;
            document.getElementById('detailDescription').textContent = volcano.description;
            document.getElementById('detailImage').src = volcano.image;
            document.getElementById('detailImage').alt = volcano.name;
            
            // Set status
            const statusElement = document.getElementById('detailStatus');
            statusElement.textContent = volcano.status;
            statusElement.className = 'status ' + 
                (volcano.status === 'active' ? 'active' : 
                 volcano.status === 'dormant' ? 'dormant' : 'extinct');

            // Load eruption timeline
            const timeline = document.getElementById('eruptionTimeline');
            timeline.innerHTML = '';
            volcano.eruptions.sort((a, b) => b.year - a.year).forEach(eruption => {
                timeline.innerHTML += `
                    <div class="timeline-item">
                        <div class="timeline-year">${eruption.year < 0 ? Math.abs(eruption.year) + ' BCE' : eruption.year}</div>
                        <div class="timeline-details">
                            <strong>VEI ${eruption.vei}:</strong> ${eruption.description}
                        </div>
                    </div>
                `;
            });

            // Load geology content
            document.getElementById('geologyContent').innerHTML = `
                <p><strong>Type:</strong> ${volcano.geology.type}</p>
                <p><strong>Primary Composition:</strong> ${volcano.geology.composition}</p>
                <p><strong>Age:</strong> ${volcano.geology.age}</p>
                <p><strong>Tectonic Setting:</strong> ${volcano.geology.tectonic}</p>
            `;

            // Load hazards content
            document.getElementById('hazardsContent').innerHTML = `
                <p>This volcano poses the following potential hazards:</p>
                <ul>
                    ${volcano.hazards.map(hazard => `<li>${hazard}</li>`).join('')}
                </ul>
            `;

            // Initialize charts
            initEruptionChart(volcano);
            initGeologyChart(volcano);
            initHazardsChart(volcano);

            // Show details section
            document.getElementById('volcanoDetails').style.display = 'block';
            document.getElementById('catalog').scrollIntoView();
        }

        function closeDetails() {
            document.getElementById('volcanoDetails').style.display = 'none';
        }

        function openTab(evt, tabName) {
            // Hide all tab contents
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }

            // Remove active class from all tab buttons
            const tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }

            // Show the current tab and add active class
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.classList.add('active');
        }

        // Initialize eruption chart for volcano details
        function initEruptionChart(volcano) {
            const ctx = document.getElementById('eruptionChart').getContext('2d');
            
            // Prepare data - group by century for ancient eruptions
            const labels = [];
            const data = [];
            
            volcano.eruptions.sort((a, b) => a.year - b.year).forEach(eruption => {
                labels.push(eruption.year < 0 ? Math.abs(eruption.year) + ' BCE' : eruption.year);
                data.push(eruption.vei);
            });
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Eruption VEI (Volcanic Explosivity Index)',
                        data: data,
                        borderColor: '#e53935',
                        backgroundColor: 'rgba(229, 57, 53, 0.1)',
                        borderWidth: 2,
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Historical Eruption Intensity'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `VEI ${context.parsed.y}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 8,
                            title: {
                                display: true,
                                text: 'VEI (0-8)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year'
                            }
                        }
                    }
                }
            });
        }

        // Initialize geology chart for volcano details
        function initGeologyChart(volcano) {
            const ctx = document.getElementById('geologyChart').getContext('2d');
            
            // Simplified composition data for chart
            let compositionData = [];
            if (volcano.geology.composition.includes('Basaltic')) {
                compositionData = [70, 20, 10]; // High basalt, some andesite, little rhyolite
            } else if (volcano.geology.composition.includes('Andesitic')) {
                compositionData = [20, 60, 20]; // Balanced
            } else if (volcano.geology.composition.includes('Rhyolitic')) {
                compositionData = [10, 30, 60]; // High silica
            } else {
                compositionData = [40, 40, 20]; // Default
            }
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Basaltic', 'Andesitic', 'Rhyolitic'],
                    datasets: [{
                        data: compositionData,
                        backgroundColor: [
                            'rgba(76, 175, 80, 0.7)',
                            'rgba(33, 150, 243, 0.7)',
                            'rgba(233, 30, 99, 0.7)'
                        ],
                        borderColor: [
                            'rgba(76, 175, 80, 1)',
                            'rgba(33, 150, 243, 1)',
                            'rgba(233, 30, 99, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Approximate Rock Composition'
                        }
                    }
                }
            });
        }

        // Initialize hazards chart for volcano details
        function initHazardsChart(volcano) {
            const ctx = document.getElementById('hazardsChart').getContext('2d');
            
            // Assign random likelihood for demo purposes
            const hazardData = volcano.hazards.map(() => Math.floor(Math.random() * 80) + 20);
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: volcano.hazards,
                    datasets: [{
                        label: 'Likelihood (%)',
                        data: hazardData,
                        backgroundColor: 'rgba(255, 152, 0, 0.7)',
                        borderColor: 'rgba(255, 152, 0, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Hazard Likelihood'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Probability (%)'
                            }
                        }
                    }
                }
            });
        }

        // Initialize global statistics chart
        function initGlobalChart() {
            const ctx = document.getElementById('globalChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['1900-1909', '1910-1919', '1920-1929', '1930-1939', '1940-1949', 
                            '1950-1959', '1960-1969', '1970-1979', '1980-1989', '1990-1999',
                            '2000-2009', '2010-2019', '2020-present'],
                    datasets: [{
                        label: 'Volcanic Eruptions per Decade',
                        data: [45, 52, 48, 56, 62, 71, 68, 75, 82, 89, 85, 93, 35],
                        backgroundColor: 'rgba(33, 150, 243, 0.7)',
                        borderColor: 'rgba(33, 150, 243, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Global Volcanic Activity 1900-Present'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Eruptions'
                            }
                        }
                    }
                }
            });
        }

        // Eruption prediction calculator
        function calculateEruptionProbability() {
            const volcanoId = document.getElementById('calcVolcano').value;
            const targetYear = parseInt(document.getElementById('targetYear').value);
            const activityLevel = document.getElementById('currentActivity').value;
            
            const volcano = volcanoes.find(v => v.id === volcanoId);
            if (!volcano) return;
            
            // Simple prediction algorithm (for demo purposes)
            const currentYear = new Date().getFullYear();
            const yearsFromNow = targetYear - currentYear;
            
            // Base probability based on status
            let baseProbability = 0;
            if (volcano.status === 'active') baseProbability = 0.6;
            else if (volcano.status === 'dormant') baseProbability = 0.3;
            else baseProbability = 0.05;
            
            // Adjust for activity level
            let activityFactor = 0;
            if (activityLevel === 'high') activityFactor = 0.3;
            else if (activityLevel === 'medium') activityFactor = 0.1;
            else activityFactor = -0.2;
            
            // Adjust for time frame
            const timeFactor = Math.min(0.3, yearsFromNow / 100);
            
            // Adjust for eruption pattern (time since last eruption)
            const lastEruption = volcano.eruptions[0].year;
            const yearsSinceLast = currentYear - lastEruption;
            let patternFactor = 0;
            
            if (yearsSinceLast > 0) {
                // For volcanoes with known eruption intervals
                if (volcano.eruptions.length > 3) {
                    const intervals = [];
                    for (let i = 0; i < volcano.eruptions.length - 1; i++) {
                        intervals.push(volcano.eruptions[i].year - volcano.eruptions[i+1].year);
                    }
                    const avgInterval = intervals.reduce((a, b) => a + b, 0) / intervals.length;
                    patternFactor = Math.min(0.4, yearsSinceLast / avgInterval * 0.3);
                } else {
                    // For volcanoes with few known eruptions
                    patternFactor = Math.min(0.2, yearsSinceLast / 500);
                }
            }
            
            // Calculate total probability
            let totalProbability = baseProbability + activityFactor + timeFactor + patternFactor;
            totalProbability = Math.min(0.95, Math.max(0.05, totalProbability));
            
            // Generate prediction text
            let predictionText, recommendationText;
            
            if (totalProbability > 0.7) {
                predictionText = `High probability of eruption by ${targetYear}.`;
                recommendationText = "Immediate monitoring recommended. Prepare evacuation plans.";
            } else if (totalProbability > 0.4) {
                predictionText = `Moderate probability of eruption by ${targetYear}.`;
                recommendationText = "Increase monitoring frequency. Review emergency plans.";
            } else {
                predictionText = `Low probability of eruption by ${targetYear}.`;
                recommendationText = "Continue regular monitoring. Maintain awareness.";
            }
            
            // Display results
            document.getElementById('predictionText').textContent = predictionText;
            document.getElementById('probabilityText').textContent = `Estimated probability: ${Math.round(totalProbability * 100)}%`;
            document.getElementById('recommendationText').textContent = recommendationText;
            document.getElementById('predictionResult').style.display = 'block';
            
            // Update prediction chart
            updatePredictionChart(volcano, targetYear, totalProbability);
        }

        // Update prediction chart
        function updatePredictionChart(volcano, targetYear, probability) {
            const ctx = document.getElementById('probabilityChart').getContext('2d');
            
            // Generate data for next 30 years
            const labels = [];
            const data = [];
            const currentYear = new Date().getFullYear();
            
            for (let year = currentYear; year <= currentYear + 30; year++) {
                labels.push(year);
                
                // Simple model where probability increases with time
                let yearProbability;
                if (year === currentYear) {
                    yearProbability = probability * 0.3;
                } else {
                    const yearsDiff = year - currentYear;
                    yearProbability = Math.min(0.95, probability * (0.3 + yearsDiff/40));
                }
                
                // Highlight the selected target year
                if (year === targetYear) {
                    yearProbability = probability;
                }
                
                data.push(yearProbability * 100);
            }
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Eruption Probability (%)',
                        data: data,
                        borderColor: '#e53935',
                        backgroundColor: 'rgba(229, 57, 53, 0.1)',
                        borderWidth: 2,
                        tension: 0.1,
                        fill: true,
                        pointBackgroundColor: labels.map(year => 
                            year === targetYear ? '#ff5722' : '#e53935'
                        ),
                        pointRadius: labels.map(year => 
                            year === targetYear ? 6 : 3
                        )
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Projected Eruption Probability Over Time'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${Math.round(context.parsed.y)}% probability`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Probability (%)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year'
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>